======
计数器
======

个位计数器
==========
原理
----
个位计数器使用4个寄存器表示从0~9。其计数方式与常规计数器一致。
当计满9时，下一数值为0，并输出进位。

状态
~~~~

- 复位：置个位和进位为00
- 置位：置个位为输入值，进位为0
- 计数： 当非置位和非复位状态时，进入正常计数状态。

工作过程
~~~~~~~~

1. 复位为个位和进位00
2. 个位从0加到9
3. 置进位1，置个位0
4. 从1加到9，置进位0


支持模式
~~~~~~~~

- 从0开始
- 置位

端口定义
--------

==========  ==================================================
名称        说明
==========  ==================================================
置位
数值
个位
进位
==========  ==================================================

端口声明:

==========  =================  ======  ======
名称        变量名             方向    位长  
==========  =================  ======  ======
状态控制    state_control      i       1     
行复位      line_pointer_rst   i       1     
入口数据    write_data         i       8     
轮回        transmigration     o       1     
当前数据    cur_data           o       8     
时钟        clk                i       1
启态标识    start_label        i       1
终态标识    end_label          o       1
==========  =================  ======  ======
复位        rst_n              i       1     
时钟        clk                i       1
==========  =================  ======  ======


状态定义
========

计数器有两种工作状态：设置和工作。

设置状态
--------
将输入数据的值写入当前行。

工作状态
--------

======================  ======================================================
state code              action
======================  ======================================================
state_control = 1       进入设置状态，轮回置0
line_pointer_rst = 1    置当前行为起始行（第一行），轮回置0
======================  ======================================================

写入存储数据时，先进行行复位，再按行写入数据。
